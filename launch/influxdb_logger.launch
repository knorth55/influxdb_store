<launch>
  <arg name="host" default="localhost" />
  <arg name="port" default="8086" />
  <arg name="database" default="pr1040" />
  <arg name="joint_states_topic" default="/joint_states" />
  <arg name="battery_states_topic" default="/battery/server2" />
  <arg name="map_frame_id" default="map" />

  <node name="joint_states_logger" pkg="influxdb_store" type="joint_states_logger.py"
        output="screen">
    <remap from="~input" to="$(arg joint_states_topic)" /> 
    <rosparam subst_value="true">
      host: $(arg host)
      port: $(arg port)
      database: $(arg database)
    </rosparam>
  </node>

  <node name="battery_states_logger" pkg="influxdb_store" type="battery_states_logger.py"
        output="screen">
    <remap from="~input" to="$(arg battery_states_topic)" /> 
    <rosparam subst_value="true">
      host: $(arg host)
      port: $(arg port)
      database: $(arg database)
    </rosparam>
  </node>

  <node name="map_transform_logger" pkg="influxdb_store" type="map_transform_logger.py"
        output="screen">
    <rosparam subst_value="true">
      host: $(arg host)
      port: $(arg port)
      database: $(arg database)
      map_frame_id: $(arg map_frame_id)
      update_rate: 0.5
    </rosparam>
  </node>

</launch>
